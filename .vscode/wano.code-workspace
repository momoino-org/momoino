{
	"folders": [
		{
			"path": ".."
		}
	],
	"settings": {
		"editor.fontSize": 18,
		"editor.renderWhitespace": "all",
		"files.insertFinalNewline": true,
		"files.trimFinalNewlines": true,
		"go.showWelcome": false,
		"go.lintTool": "golangci-lint",
		"go.lintFlags": [
			"--fast",
		],
		"gopls": {
			"ui.semanticTokens": true
		},
		"[go]": {
			"editor.insertSpaces": false,
			"editor.formatOnSave": false,
			"editor.codeActionsOnSave": {
				"source.organizeImports": "explicit"
			}
		},
	},
	"extensions": {
		"recommendations": [
			"golang.go",
			"redhat.vscode-yaml",
			"editorconfig.editorconfig",
			"ms-azuretools.vscode-docker",
			"dbaeumer.vscode-eslint"
		]
	},
  "launch": {
    "version": "0.2.0",
    "compounds": [],
    "configurations": [
      {
				"name": "Run [console] project",
				"type": "go",
				"request": "launch",
				"mode": "auto",
				"program": "${workspaceRoot}/backend/console",
				"buildFlags": "-ldflags='-X wano-island/common/core.AppVersion=1.0.0 -X wano-island/common/core.CompatibleVersion= -X wano-island/common/core.AppRevision=000000'",
				"env": {
          "APP_MODE": "development",
          "APP_HOST": "http://localhost",
          "APP_SECRET_KEY": "eLPgQbF,g!Yz)6E%9Ghj5.KZMWvw$!9y",
					"APP_DATABASE_HOST": "localhost",
					"APP_DATABASE_USERNAME": "momoino_console",
					"APP_DATABASE_PASSWORD": "Keep!t5ecret",
					"APP_DATABASE_NAME": "momoino",
					"APP_DATABASE_PORT": "5432",
					"APP_DATABASE_MAX_ATTEMPTS": "3",
          "APP_CORS_ALLOWED_ORIGINS": "https://* http://*",
          "APP_CORS_ALLOWED_HEADERS": "*",
          "APP_CORS_EXPOSED_HEADERS": "* X-Csrf-Token",
          "APP_CORS_ALLOW_CREDENTIALS": "true",
          "APP_CORS_MAX_AGE": "300",
          "APP_KEYCLOAK_WELL_KNOWN_URL": "http://localhost:8080/realms/momoino/.well-known/openid-configuration",
          "APP_KEYCLOAK_CLIENT_ID": "momoino-client",
          "APP_KEYCLOAK_CLIENT_SECRET": "LcgHqRLBuJKLZ5wGWlxoUmMz34A6dxQu",
				}
			},
      {
				"name": "Run [migration] project",
				"type": "go",
				"request": "launch",
				"mode": "auto",
				"program": "${workspaceRoot}/backend/migration",
				"buildFlags": "-ldflags='-X wano-island/common/core.AppVersion=1.0.0 -X wano-island/common/core.CompatibleVersion= -X wano-island/common/core.AppRevision=000000'",
				"env": {
          "APP_MODE": "development",
          "APP_HOST": "http://localhost",
          "APP_SECRET_KEY": "eLPgQbF,g!Yz)6E%9Ghj5.KZMWvw$!9y",
					"APP_DATABASE_HOST": "localhost",
					"APP_DATABASE_USERNAME": "momoino_console",
					"APP_DATABASE_PASSWORD": "Keep!t5ecret",
					"APP_DATABASE_NAME": "momoino",
					"APP_DATABASE_PORT": "5432",
					"APP_DATABASE_MAX_ATTEMPTS": "3",
          "APP_CORS_ALLOWED_ORIGINS": "https://* http://*",
          "APP_CORS_ALLOWED_HEADERS": "*",
          "APP_CORS_EXPOSED_HEADERS": "* X-Csrf-Token",
          "APP_CORS_ALLOW_CREDENTIALS": "true",
          "APP_CORS_MAX_AGE": "300",
				}
			},
      {
        "name": "Run [frontend] project",
        "request": "launch",
        "runtimeArgs": [
          "run",
          "dev"
        ],
        "runtimeExecutable": "npm",
        "skipFiles": [
          "<node_internals>/**"
        ],
        "type": "node",
        "cwd": "${workspaceRoot}/frontend",
        "env": {
          "USE_SECURE_COOKIES": "true",
          // For internal communication between NextJS's backend and custom backend
          "NEXT_BACKEND_HOST": "http://localhost:8080",
          // For public communication between frontend and backend
          "NEXT_PUBLIC_BACKEND_HOST": "http://localhost:8080",
        }
      },
    ],
  }
}
